<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>An introduction to node.js - Chris Mytton</title>

    <meta property="og:title" content="An introduction to node.js" />
    <meta name="author" content="Chris Mytton" />
    <meta property="og:locale" content="en_GB" />
    <meta name="description" content="I've only just got round to doing some coding with Ryan Dahl's great node.js project, although the project has been around for about a year now, so I've put together this short introduction to give you a taste of what node is about." />
    <meta property="og:description" content="I've only just got round to doing some coding with Ryan Dahl's great node.js project, although the project has been around for about a year now, so I've put together this short introduction to give you a taste of what node is about." />
    <link rel="canonical" href="https://www.chrismytton.com/2010/02/14/an-introduction-to-nodejs/" />
    <meta property="og:url" content="https://www.chrismytton.com/2010/02/14/an-introduction-to-nodejs/" />
    <meta property="og:site_name" content="Chris Mytton" />
    
    <meta property="og:image" content="https://www.chrismytton.com/assets/images/profile-October-2019-square.jpg">
    <meta name="twitter:card" content="summary" />
    
    <meta property="twitter:title" content="An introduction to node.js" />
    <meta name="twitter:site" content="@chrismytton" />
    <meta name="twitter:creator" content="@chrismytton" />

    <link rel="stylesheet" href="/assets/css/main.css?1601239916">
    <link type="application/atom+xml" rel="alternate" href="/index.xml" title="Chris Mytton" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" href="/favicon.png">

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58688654-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-58688654-2');
    </script>
  </head>

  <body>

    <div class="container">
      <header class="site-header clearfix">
        <div class="elsewhere">
  <a target="_blank" rel="noopener noreferrer me" href="https://twitter.com/chrismytton" aria-label="Visit my Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
  </a>
  <a target="_blank" rel="noopener noreferrer me" href="https://github.com/chrismytton" aria-label="Visit my GitHub">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
  </a>
  <a target="_blank" rel="noopener noreferrer" href="/index.xml" aria-label="Subscribe to my feed">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
  </a>
</div>

        <a class="logo" href="/">Chris Mytton</a>
        <div class="menu">
  <a href="/">Home</a>
  <a href="/articles/">Articles</a>
  <a href="/tags/">Tags</a>
</div>

      </header>

      <main class="site-content">
        <header class="post-header">
  <h1 class="post-title">An introduction to node.js</h1>
</header>

<article class="post">

  <div class="post-content">
    
<blockquote>
  <p><strong>Update May 2020</strong>: This post is now 10 years old! I’m leaving it here for historical interest. If you’re looking for an up-to-date guide, try the <a href="https://nodejs.org/en/docs/guides/getting-started-guide/">Node.js Getting Started Guide</a>.</p>
</blockquote>

<hr />

<blockquote>
  <p><strong>Update October 2011</strong>: The node.js api is in constant flux until it reaches a 1.0 release. The code in this post doesn’t work with the latest releases of node (it was written for the 0.1.3x series), however the concept is still the same. The best place to start is the <a href="http://nodejs.org/api/">node.js api docs</a>.</p>
</blockquote>

<p>I’ve only just got round to doing some coding with <a href="http://tinyclouds.org/">Ryan Dahl’s</a> great <a href="http://nodejs.org/">node.js</a> project, although the project has been
around for about a year now, so I’ve put together this short introduction to give you a taste of what node is about.</p>

<p>The project is under heavy development, and the api is still changing quite regularly, but don’t let that scare you off, node is stable and usable now.</p>

<p>For those that don’t know, <a href="http://nodejs.org/">node.js</a> is a project that brings javascript to the server and into the realm of PHP and Ruby. However with node there is one big difference. It is based around the concept of events, just like in the browser, javascript waits for events to be fired, then invokes the function that has been attached to the event.</p>

<p>Node uses this to it’s full advantage, most operations that you perform in node will have a callback associated with it, this means that node doesn’t have to wait while it’s completing some time-consuming task, it can go about serving other requests, then when the event is fired it can go back and execute the function attached to the event. This leads to very fast response times when using node as a web server, as it can handle thousands of requests per second.</p>

<p>The program can be installed easily on OS X (using <a href="http://github.com/mxcl/homebrew">Homebrew</a> or compile from <a href="http://github.com/ry/node">source</a>) and Linux (compile from
<a href="http://github.com/ry/node">source</a>), Windows support is planned in the future, but is currently non-existent. Once installed you have access to a
command line utility, <code>node</code>, this runs .js files through the node interpreter.</p>

<p>A basic node hello world program could look like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">sys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">sys</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">sayHello</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="dl">'</span><span class="s1">Hello </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">!</span><span class="dl">'</span>
<span class="p">}</span>

<span class="nx">sys</span><span class="p">.</span><span class="nx">puts</span><span class="p">(</span><span class="nx">sayHello</span><span class="p">(</span><span class="dl">'</span><span class="s1">World</span><span class="dl">'</span><span class="p">))</span>
</code></pre></div></div>

<p>save this into a file and then run it from the command line like so:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node hello.js
Hello World!
</code></pre></div></div>

<p>As you can see it’s just javascript syntax, just like you would use in a browser, but the first difference the astute reader will
have noticed is the require() statement. This is built into node and conforms to the <a href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a> Module specification. This
version of require is slightly different from one you might see in Ruby or PHP, it actually returns an object which you can assign
to a variable, or use directly:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">sys</span><span class="dl">'</span><span class="p">).</span><span class="nx">puts</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World!</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<p>Each module is a self contained unit of code, it has its own private scope, so can define functions to use internally, then expose public functions to be used externally using the exports object. Here’s an example of a simple module:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">calculator</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">add</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
  <span class="p">},</span>
  <span class="na">subtract</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
  <span class="p">},</span>
  <span class="na">multiply</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>
  <span class="p">},</span>
  <span class="na">divide</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">/</span> <span class="nx">b</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">process</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="nx">exports</span><span class="p">,</span> <span class="nx">calculator</span><span class="p">)</span>
</code></pre></div></div>

<p>The last line may seem a little strange, but all it does is extend the exports object with the properties defined in the calculator object, if that line wasn’t there then the module wouldn’t return anything as it wouldn’t export anything. To use our new (rather basic) module we’d do something like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Assuming that calc.js is in the same dir as this file</span>
<span class="kd">var</span> <span class="nx">calc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./calc</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// Now we can use the calc object to do calculations, joy!</span>
<span class="kd">var</span> <span class="nx">ten</span> <span class="o">=</span> <span class="nx">calc</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">two</span> <span class="o">=</span> <span class="nx">calc</span><span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<p>This overview barely scratches the surface of what is possible with node.js, the <a href="http://nodejs.org/api/">api documentation</a> contains all you need to know about node, and it is all on one (albeit rather long) page, so once you’ve read through it you should have a pretty good idea how you’d go about coding for it.</p>

<p>There are already some very interesting projects using node available to try. A quick glance at the <a href="http://wiki.github.com/ry/node/">node wiki</a> will give you a glimpse of what is possible with this fantastic new technology, as well as some more background information on the project.</p>

  </div>

  
  <div class="post-tags">
    <p>
      Tagged:
      
      <a href="/tags/#programming">#programming</a>
      
    </p>
  </div>
  

  <p class="post-date">Published on 14 February 2010</p>

</article>

      </main>
    </div>

    <footer class="container site-footer">
      <a class="logo" href="/">Chris Mytton</a>
      <div class="menu">
  <a href="/">Home</a>
  <a href="/articles/">Articles</a>
  <a href="/tags/">Tags</a>
</div>

      <img class="profile rounded" alt="chrismytton" width="100" height="100" src="/assets/images/profile-October-2019-square.jpg"/>

<div class="mini-bio">
  <p>
    Hi! My name is Chris. I'm a Senior Developer at <a href="https://www.mysociety.org/">mySociety</a>. I'm currently working on <a href="https://fixmystreet.org">FixMyStreet</a>, a software platform for reporting local problems.
  </p>
  <p>
    This is my personal website where I share projects I've been working on and what I learn along the way.
  </p>
  <p>
    Find me on Twitter:&nbsp;<a target="_blank" rel="noopener noreferrer me" href="https://twitter.com/chrismytton">@chrismytton</a>
  </p>
  <p>
    Get in touch:&nbsp;<a target="_blank" rel="noopener noreferrer" href="mailto:mail@chrismytton.com">mail@chrismytton.com</a>
  </p>
</div>

      <div class="elsewhere">
  <a target="_blank" rel="noopener noreferrer me" href="https://twitter.com/chrismytton" aria-label="Visit my Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
  </a>
  <a target="_blank" rel="noopener noreferrer me" href="https://github.com/chrismytton" aria-label="Visit my GitHub">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
  </a>
  <a target="_blank" rel="noopener noreferrer" href="/index.xml" aria-label="Subscribe to my feed">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg>
  </a>
</div>

    </footer>

  </body>

</html>
