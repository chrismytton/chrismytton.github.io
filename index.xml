<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
  <generator uri="https://www.chrismytton.com/">www.chrismytton.com</generator>
  <link href="https://www.chrismytton.com/index.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.chrismytton.com/" rel="alternate" type="text/html" hreflang="en-gb" />
  <updated>2023-01-18T22:00:00+00:00</updated>
  <id>https://www.chrismytton.com/index.xml</id>
  <title type="html">Chris Mytton</title>
  <subtitle>This is my personal website where I share anything I find interesting. Follow me on Twitter: @chrismytton</subtitle>
  <author>
    <name>Chris Mytton</name>
  </author>
  
  <entry>
    <title type="html">What land and assets does Cheltenham Council own?</title>
    <link href="https://www.chrismytton.com/what-land-and-assets-does-cheltenham-council-own/" rel="alternate" type="text/html" title="What land and assets does Cheltenham Council own?" />
    <published>2023-01-18T22:00:00+00:00</published>
    <updated>2023-01-18T22:00:00+00:00</updated>
    <id>https://www.chrismytton.com/what-land-and-assets-does-cheltenham-council-own/</id>
    <content type="html" xml:base="https://www.chrismytton.com/what-land-and-assets-does-cheltenham-council-own/">
      
&lt;h2 id=&quot;summary-i-made-a-map-of-the-councils-assets&quot;&gt;Summary: I made a map of the council’s assets&lt;/h2&gt;

&lt;p&gt;I made a map showing all land and assets owned by Cheltenham Borough Council&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;iframe src=&quot;https://www.chrismytton.com/cheltenham-council-land-and-assets/&quot; style=&quot;width: 100%; height: 600px; border: none;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;You can view it in fullscreen at &lt;a href=&quot;https://www.chrismytton.com/cheltenham-council-land-and-assets/&quot;&gt;chrismytton.com/cheltenham-council-land-and-assets&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;data-but-not-very-visual&quot;&gt;Data! But not very visual&lt;/h2&gt;

&lt;p&gt;I was browsing through &lt;a href=&quot;https://www.cheltenham.gov.uk/opendata&quot;&gt;Cheltenham Council’s Open data pages&lt;/a&gt; the other day and came across their &lt;a href=&quot;https://www.cheltenham.gov.uk/info/16/open_data/1190/local_authority_land_and_assets&quot;&gt;“Local authority land and assets open data”&lt;/a&gt; dataset. From what I understand reading that webpage, the council are required to maintain this list of assets, “in accordance with the mandatory requirements of the local government transparency code”.&lt;/p&gt;

&lt;p&gt;The list of assets is provided in XLSX and CSV format. These spreadsheet-like formats are fine to quickly go through if you know what you’re looking for. Not so great for browsing the data in a more visual format.&lt;/p&gt;

&lt;p&gt;I’ve been wanting to sharpen my GIS skills for a while, so I got to work processing the data into something that I could plot on a map.&lt;/p&gt;

&lt;h2 id=&quot;loading-the-data-into-postgis-with-ruby&quot;&gt;Loading the data into Postgis with Ruby&lt;/h2&gt;

&lt;p&gt;For my first iteration I wanted to use Postgis so I could get more familiar with the various features it offers. I wrote a Ruby script that would take the CSV data, do some mild cleaning on it, load it into Postgis, and then get the data back out of Postgis as GeoJSON.&lt;/p&gt;

&lt;p&gt;You can see that script &lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/fd24990/load_csv_and_output_geojson.rb&quot;&gt;over on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;re-projecting-british-national-grid-coordinates-to-gps-coordinates&quot;&gt;Re-projecting British National Grid coordinates to “GPS” coordinates&lt;/h2&gt;

&lt;p&gt;The coordinates from the CSV’s &lt;code&gt;GeoX&lt;/code&gt; and &lt;code&gt;GeoY&lt;/code&gt; columns are re-projected in Postgis from EPSG:27700 (British National Grid, which is used on Ordnance Survey maps) to EPSG:4326 (World Geodetic System, which is what GPS uses), which is then stored in the &lt;code&gt;coordinates&lt;/code&gt; column. Re-projection isn’t a required step. GeoJSON can handle data with a 27700 projection, and Leaflet can handle 27700 projections, but it requires a 27700 basemap as well. I could get from Ordnance Survey, but it costs money, and I wanted this project to run without an ongoing cost, if possible.&lt;/p&gt;

&lt;p&gt;In my experience, working with 4326 data gives you a wider range of options.&lt;/p&gt;

&lt;p&gt;This is the SQL I used to re-project the &lt;code&gt;GeoX&lt;/code&gt; and &lt;code&gt;GeoY&lt;/code&gt; columns and store the result in the &lt;code&gt;coordinates&lt;/code&gt; column.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;land_and_assets&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coordinates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ST_Transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ST_SetSRID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;ST_MakePoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GeoX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GeoY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
      &lt;span class=&quot;mi&quot;&gt;27700&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;4326&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;sql-query-to-get-geojson-out-of-postgis&quot;&gt;SQL query to get GeoJSON out of Postgis&lt;/h2&gt;

&lt;p&gt;The other thing of note is that I used a fancy Postgis query to get the GeoJSON directly from the database, rather than having to generate it with Ruby.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_build_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;type&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&#39;FeatureCollection&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;features&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_agg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_build_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;type&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&#39;Feature&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;AssetCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;geometry&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;ST_AsGeoJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coordinates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s1&quot;&gt;&#39;properties&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_build_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;organisation&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;organisation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;organisationlabel&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;organisationlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;uprn&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uprn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;assetcode&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assetcode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;propertyname&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;propertyname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;streetname&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;streetname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;posttown&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;posttown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;postcode&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;postcode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;tenuretype&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tenuretype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;tenuredetail&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tenuredetail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&#39;holdingtype&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;holdingtype&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;feature&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;land_and_assets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pretty cool that you can conjure up a GeoJSON object using SQL without any further processing.&lt;/p&gt;

&lt;p&gt;So this Ruby script worked fine and produced some usable GeoJSON output. You can actually &lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/fd24990e0bbfd9e90d42a0797b6b770e2c63665b/land_and_assets_2021.geojson&quot;&gt;view the output directly on GitHub&lt;/a&gt; (because GitHub has support for rendering GeoJSON files).&lt;/p&gt;

&lt;h2 id=&quot;second-attempt-with-gdalogr&quot;&gt;Second attempt with GDAL/OGR&lt;/h2&gt;

&lt;p&gt;A few weeks later I was working on another project and started to get a deeper understanding and appreciation for the power of &lt;code&gt;ogr2ogr&lt;/code&gt; from the GDAL/OGR package. From what I understand GDAL handles raster data, which is essentially geographically-labelled image-type data. OGR handles vector data, which is essentially some kind of coordinates representing points, lines, polygons (and potentially more) in a 2d or 3d space.&lt;/p&gt;

&lt;p&gt;This tool allows you to convert between a wide range of vector GIS formats. Among those formats, to my surprise, was CSV! So you can use &lt;code&gt;ogr2ogr&lt;/code&gt; to convert a CSV file to GeoJSON directly, without having to load things into Postgres as an intermediate step.&lt;/p&gt;

&lt;p&gt;Because &lt;code&gt;ogr2ogr&lt;/code&gt; lets you write SQL, we can use this for processing the rows in the input dataset into a format appropriate for the output dataset. In this case replacing some line breaks in a couple of fields, and remapping the names from the CSV to different output names.&lt;/p&gt;

&lt;p&gt;You can see the new build script &lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/71d9529327807af23cd750f65e88dc496867c155/bin/build&quot;&gt;over on GitHub&lt;/a&gt; along with the &lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/main/extract_csv_to_ogr.sql&quot;&gt;SQL that’s used for processing&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Moving from the Ruby script to &lt;code&gt;ogr2ogr&lt;/code&gt; has dramatically reduced the amount of code needed for this process. Now it’s just one (admittedly quite complex) SQL query and a couple of lines of bash to glue things together.&lt;/p&gt;

&lt;h2 id=&quot;putting-it-on-a-map&quot;&gt;Putting it on a map&lt;/h2&gt;

&lt;p&gt;As mentioned GitHub has built in support for viewing GeoJSON files. This used to be powered by Mapbox and was quite slick, but it’s now powered by Azure Maps and is quite frankly inferior to the Mapbox version and a bit clunky.&lt;/p&gt;

&lt;p&gt;So I wanted to put the markers on a map that I controlled.&lt;/p&gt;

&lt;p&gt;The GeoJSON file was acceptably small once gzipped, so I was happy to just pull in the whole file on page load, rather than having to do any dynamic bounding box queries.&lt;/p&gt;

&lt;p&gt;I used Leaflet to display the map, and OpenStreetMap’s tile server for the base map.&lt;/p&gt;

&lt;p&gt;You can browse the map by visiting &lt;a href=&quot;https://www.chrismytton.com/cheltenham-council-land-and-assets/&quot;&gt;chrismytton.com/cheltenham-council-land-and-assets&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;exploring-the-data-with-datasette&quot;&gt;Exploring the data with Datasette&lt;/h2&gt;

&lt;p&gt;Browsing the data visually on the map was the main goal for me, but I still found myself wanting to run some SQL queries on this data.
I wanted to know what the distinct values were in the “Tenure” column.
I wanted to know what kind of holdings there were.
These are things that would be trivial to answer using SQL.&lt;/p&gt;

&lt;p&gt;I could have just used &lt;code&gt;ogr2ogr&lt;/code&gt;’s built-in SQL to query the data, but this is a bit clunky because it’s designed specifically for looking at geodata.&lt;/p&gt;

&lt;p&gt;Enter &lt;a href=&quot;https://datasette.io/&quot;&gt;Datasette&lt;/a&gt;. Specifically &lt;a href=&quot;https://lite.datasette.io/&quot;&gt;Datasette Lite&lt;/a&gt;, which allows you to load in a CSV file from a URL and run SQL against it.&lt;/p&gt;

&lt;p&gt;In this case there was some kind of encoding issue with the CSV file which meant it couldn’t be loaded by Datasette Lite directly.
One way to work around this was to convert the CSV to a SQLite database and fix the encodings along the way.&lt;/p&gt;

&lt;p&gt;Because I was now using &lt;code&gt;org2ogr&lt;/code&gt;, I had everything I needed to convert the CSV data into a multitude of other vector data formats.
A simple &lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets/compare/2031fb3...066e170&quot;&gt;one line addition&lt;/a&gt; to the &lt;code&gt;bin/build&lt;/code&gt; script was all it took to output a SQLite database alongside the GeoJSON.&lt;/p&gt;

&lt;p&gt;With that change in place it’s now possible to &lt;a href=&quot;https://lite.datasette.io/?url=https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/bdf8976e4ba25a6a35174e0597ab3723c47682eb/cheltenham_council_land_and_assets_2021.sqlite&quot;&gt;query the data using Datasette Lite&lt;/a&gt;.
This means it’s now possible to query the data using SQL without having to download anything to your computer.&lt;/p&gt;

&lt;h2 id=&quot;future-enhancements&quot;&gt;Future enhancements&lt;/h2&gt;

&lt;p&gt;This has definitely been a learning experience! This process follows the classic ETL (Extract, Transform, Load) pattern, but using tools that are specifically designed for geodata. While I’m pleased with how things are working there are definitely some things I’d like to improve.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Have a simpler base map than the OpenStreetMap one, which can look a bit cluttered at times&lt;/li&gt;
  &lt;li&gt;Switch to using Maplibre. It’s fast, it’s fun, and having used Mapbox for a while it’s familiar. It also offers smoother zooming, built-in hash-tracking on location change, as well as changing bearing and angle.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.chrismytton.com/cheltenham-council-land-and-assets/&quot;&gt;Full-screen version of the map&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chrismytton/cheltenham-council-land-and-assets&quot;&gt;GitHub repository&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cheltenham.gov.uk/info/16/open_data/1190/local_authority_land_and_assets&quot;&gt;Original data&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lite.datasette.io/?url=https://github.com/chrismytton/cheltenham-council-land-and-assets/blob/bdf8976/cheltenham_council_land_and_assets_2021.sqlite&quot;&gt;Datasette Lite interface for querying data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Well, all the land and assets they are legally required to declare, at least. Some things like operational railways, canals and highways, as well as “assets of national security” are excluded from this list. For more details see the &lt;a href=&quot;https://www.gov.uk/government/publications/local-government-transparency-code-2015/local-government-transparency-code-2015#local-authority-land&quot;&gt;“Local authority land” section of the Local government transparency code 2015&lt;/a&gt;. &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="programming" />
    
    <category term="society" />
    
    <category term="opendata" />
    
    <summary type="html">How I turned a CSV into a map</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com/assets/images/cheltenham-data-screenshot.png" />
    <media:content medium="image" url="https://www.chrismytton.com/assets/images/cheltenham-data-screenshot.png"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Walk from Pittville Pump Room to Prestbury Church</title>
    <link href="https://www.chrismytton.com/video-walk-from-pittville-pump-room-to-prestbury-church/" rel="alternate" type="text/html" title="Walk from Pittville Pump Room to Prestbury Church" />
    <published>2021-09-13T15:14:00+00:00</published>
    <updated>2021-09-13T15:14:00+00:00</updated>
    <id>https://www.chrismytton.com/video-walk-from-pittville-pump-room-to-prestbury-church/</id>
    <content type="html" xml:base="https://www.chrismytton.com/video-walk-from-pittville-pump-room-to-prestbury-church/">
      
&lt;p&gt;Using my 1996 Cheltenham Circular Footpath guidebook as my primary means of navigation I walked a couple of miles along said footpath, from Pittville Pump Room to Prestbury Church.&lt;/p&gt;

&lt;p&gt;This part of the route goes around Cheltenham Racecourse and past the Gloucestershire Warwickshire Steam Railway. Along the way I explain a bit about the history of the racecourse and the railway station adjacent to it.&lt;/p&gt;

&lt;p&gt;Join me as I get lost, eat blackberries, and read directions from a guidebook.&lt;/p&gt;

&lt;div class=&quot;youtube-embed&quot;&gt;
  &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/HZtq3IrvIVE&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="walking" />
    
    <category term="video" />
    
    <summary type="html">I walked a couple of miles along Cheltenham Circular Footpath, from Pittville Pump Room to Prestbury Church. This is the video of that walk.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com" />
    <media:content medium="image" url="https://www.chrismytton.com"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Book notes: A Guide to the Good Life</title>
    <link href="https://www.chrismytton.com/a-guide-to-the-good-life/" rel="alternate" type="text/html" title="Book notes: A Guide to the Good Life" />
    <published>2020-11-02T18:00:00+00:00</published>
    <updated>2020-11-02T18:00:00+00:00</updated>
    <id>https://www.chrismytton.com/a-guide-to-the-good-life/</id>
    <content type="html" xml:base="https://www.chrismytton.com/a-guide-to-the-good-life/">
      
&lt;p&gt;&lt;strong&gt;Title&lt;/strong&gt;: A Guide to the Good Life: The Ancient Art of Stoic Joy&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Author&lt;/strong&gt;: William B. Irvine&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Rating&lt;/strong&gt;: 9/10&lt;/p&gt;

&lt;p&gt;I read this book a few years ago and have found that following the concepts in it have genuinely helped me to live a more tranquil life.&lt;/p&gt;

&lt;p&gt;Read this book if you’re finding the world a bit overwhelming and want to live a more purposeful and fulfilling life, rather than a life of mindless consumption.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;a-practical-guide-to-modern-stoicism&quot;&gt;A practical guide to modern Stoicism.&lt;/h2&gt;

&lt;p&gt;Stoicism is a life philosophy that can help you lead a more tranquil and joyous life.&lt;/p&gt;

&lt;p&gt;If you embrace the form of Stoicism this book teaches then, according to Seneca (an ancient Stoic), you will “be attended by a constant cheerfulness and a joy that is deep and issues from deep within”.&lt;/p&gt;

&lt;h2 id=&quot;relation-to-zen-buddhism&quot;&gt;Relation to Zen Buddhism&lt;/h2&gt;

&lt;p&gt;Stoicism has some things in common with Zen Buddhism.&lt;/p&gt;

&lt;p&gt;Both of these philosophies emphasise the transitory nature of the world and the importance of mastering desire.&lt;/p&gt;

&lt;p&gt;They also both have tranquility as the ultimate goal and teach us how to get it.&lt;/p&gt;

&lt;h2 id=&quot;stoic-psychological-techniques&quot;&gt;Stoic psychological techniques&lt;/h2&gt;

&lt;p&gt;The Stoics developed certain techniques to help them achieve the goal of tranquility.&lt;/p&gt;

&lt;h3 id=&quot;negative-visualisation&quot;&gt;Negative visualisation&lt;/h3&gt;

&lt;p&gt;Reflect on the bad things that could happen to you or your loved ones. It makes you grateful for what you have and makes your joy more durable when you are hit by misfortune.&lt;/p&gt;

&lt;p&gt;Think about things that make you sad or angry from other people’s perspective.&lt;/p&gt;

&lt;h3 id=&quot;the-dichotomy-trichotomy-of-control&quot;&gt;The Dichotomy (trichotomy) of control&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Things we have complete control over, e.g. goals and values&lt;/li&gt;
  &lt;li&gt;Things we have no control over, e.g. the weather, the news&lt;/li&gt;
  &lt;li&gt;Things we have some control over, e.g. whether we win at tennis&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Don’t worry about things you have no control over.&lt;/p&gt;

&lt;p&gt;Focus on things you have complete control over.&lt;/p&gt;

&lt;p&gt;When it comes to things you have some control over make sure you’re careful setting goals.&lt;/p&gt;

&lt;p&gt;Rather than setting the goal of winning the tennis match set the goal of playing to the best of your ability, then be pleasantly surprised if you win.&lt;/p&gt;

&lt;h3 id=&quot;fatalism&quot;&gt;Fatalism&lt;/h3&gt;

&lt;p&gt;Let go of the past and the present, they are what fate intended. Focus on the future, which you can control.&lt;/p&gt;

&lt;p&gt;This links back to the dichotomy of control. You can’t control the past and present (you can act on the present, but that’s a plan for the future), so don’t spend time worrying about them.&lt;/p&gt;

&lt;h3 id=&quot;self-denial&quot;&gt;Self denial&lt;/h3&gt;

&lt;p&gt;Embrace voluntary discomfort occasionally.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Underdress for the weather&lt;/li&gt;
  &lt;li&gt;Eat basic food without herbs and spices&lt;/li&gt;
  &lt;li&gt;Sleep somewhere uncomfortable&lt;/li&gt;
  &lt;li&gt;Have black tea or coffee&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Try and forego opportunities to experience pleasure, they will numb you to it and then you will always need the pleasure to feel tranquil.&lt;/p&gt;

&lt;p&gt;By having more discomfort and less pleasure in our lives we widen our comfort zone and learn to appreciate the simpler things in life.&lt;/p&gt;

&lt;h3 id=&quot;meditation---watching-ourselves-practicing-stoicism&quot;&gt;Meditation - Watching ourselves practicing Stoicism&lt;/h3&gt;

&lt;p&gt;Write down the days events and how we should have responded to them according to Stoic principles.&lt;/p&gt;

&lt;p&gt;Think about the parts where you succeeded and successfully practiced Stoicism.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Are you practicing negative visualisation?&lt;/li&gt;
  &lt;li&gt;Are you distinguishing between things you fully control, partly control and don’t control?&lt;/li&gt;
  &lt;li&gt;Are you internalising your goals?&lt;/li&gt;
  &lt;li&gt;Are you dwelling on the past instead of focussing on the future?&lt;/li&gt;
  &lt;li&gt;Are you practicing self-denial?&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;stoic-advice&quot;&gt;Stoic Advice&lt;/h2&gt;

&lt;h3 id=&quot;duty---on-loving-mankind&quot;&gt;Duty - on loving mankind&lt;/h3&gt;

&lt;p&gt;Do your duty not through fear of punishment but prospect of reward.&lt;/p&gt;

&lt;h3 id=&quot;social-relations---on-dealing-with-other-people&quot;&gt;Social relations - on dealing with other people&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Form your character in private and remain true to it around others&lt;/li&gt;
  &lt;li&gt;Avoid people with vices you don’t want to pick up&lt;/li&gt;
  &lt;li&gt;Avoid people that are whiny&lt;/li&gt;
  &lt;li&gt;Be selective about the social functions you attend&lt;/li&gt;
  &lt;li&gt;When interacting with annoying people, bear in mind that others find you annoying, too&lt;/li&gt;
  &lt;li&gt;Don’t worry about what others say, think, or do&lt;/li&gt;
  &lt;li&gt;Social fatalism: people are the way they are, try to accept them as they are but also try to gently improve them&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;insults---on-putting-up-with-put-downs&quot;&gt;Insults - on putting up with put downs&lt;/h3&gt;

&lt;p&gt;Pause and consider if what the insulter said is true. If it is then no reason to be upset.&lt;/p&gt;

&lt;p&gt;Consider how well informed the insulter is. If you respect the source they are likely trying to help you.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Consider the source of insults&lt;/li&gt;
  &lt;li&gt;We are the source of the sting of an insult&lt;/li&gt;
  &lt;li&gt;We get upset because of our judgement of “things”&lt;/li&gt;
  &lt;li&gt;Counter the insult with humour or silence&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;grief---on-vanquishing-tears-with-reason&quot;&gt;Grief - on vanquishing tears with reason&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Grieve enough to avoid indifference, but not so much that you tend towards madness&lt;/li&gt;
  &lt;li&gt;Negative visualisation will help remove some of the shock we experience&lt;/li&gt;
  &lt;li&gt;Retrospective negative visualisation - visualise the past without the person you are grieving and be thankful for the time you had with them&lt;/li&gt;
  &lt;li&gt;Use reason to make sense of a situation&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;anger---on-overcoming-anti-joy&quot;&gt;Anger - on overcoming anti-joy&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Being angry is a waste of precious time&lt;/li&gt;
  &lt;li&gt;Don’t jump to conclusions about people’s motivations&lt;/li&gt;
  &lt;li&gt;Too much pleasure and not enough self-denial will make us quick to anger&lt;/li&gt;
  &lt;li&gt;Things that anger us generally don’t do us harm, they are just annoying&lt;/li&gt;
  &lt;li&gt;Humour can prevent us from becoming angry&lt;/li&gt;
  &lt;li&gt;Contemplate the impermanence of the world, this will put the thing that made you angry into perspective&lt;/li&gt;
  &lt;li&gt;When we feel ourselves getting angry, pause to consider the cosmic (in)significance of it&lt;/li&gt;
  &lt;li&gt;Remind ourselves that our behaviour angers others&lt;/li&gt;
  &lt;li&gt;When angry, force ourselves to relax our face, soften our voice and slow our pace of walking&lt;/li&gt;
  &lt;li&gt;If we are unable to control our anger and lash out then we should immediately apologise so that we can return to calm and not obsess over the thing that made us angry&lt;/li&gt;
  &lt;li&gt;Why experience anti-joy when you can experience joy?&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;personal-values---on-seeking-fame&quot;&gt;Personal values - on seeking fame&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Remain indifferent to social status&lt;/li&gt;
  &lt;li&gt;Stoics value their freedom and are reluctant to do anything that gives others power over them&lt;/li&gt;
  &lt;li&gt;Be indifferent to what other people think so you can keep your freedom&lt;/li&gt;
  &lt;li&gt;Ignoring what people think of us is another form of not worrying about things we can’t control&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;personal-values---on-luxurious-living&quot;&gt;Personal values - on luxurious living&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Too much luxury makes it harder to appreciate simple things&lt;/li&gt;
  &lt;li&gt;Avoid becoming a connoisseur, it will diminish your ability to delight in simple things&lt;/li&gt;
&lt;/ul&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="books" />
    
    <category term="life" />
    
    <summary type="html">The Ancient Art of Stoic Joy.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com" />
    <media:content medium="image" url="https://www.chrismytton.com"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Be prolific</title>
    <link href="https://www.chrismytton.com/be-prolific/" rel="alternate" type="text/html" title="Be prolific" />
    <published>2020-10-22T18:17:00+00:00</published>
    <updated>2020-10-22T18:17:00+00:00</updated>
    <id>https://www.chrismytton.com/be-prolific/</id>
    <content type="html" xml:base="https://www.chrismytton.com/be-prolific/">
      
&lt;p&gt;There’s a story about an art teacher that split their class in half. They told one half of the students that they’d be graded based on a single piece of work, and the other half that they would be graded on the quantity of work produced.&lt;/p&gt;

&lt;p&gt;The half that was being graded on quantity ended up producing higher quality pieces.&lt;/p&gt;

&lt;p&gt;By iterating and learning from their mistakes they actually ended up producing better work than the students that only had to produce one piece.&lt;/p&gt;

&lt;p&gt;Quantity leads to quality.&lt;/p&gt;

&lt;h2 id=&quot;share-your-work&quot;&gt;Share your work&lt;/h2&gt;

&lt;p&gt;Sharing work helps you to think and develop. The feedback you get feeds into the next iteration.&lt;/p&gt;

&lt;p&gt;If you’ve enjoyed creating something then there’s a good chance that at least a handful of people in the world will enjoy seeing it or hearing about it.&lt;/p&gt;

&lt;p&gt;Promoting yourself and your work can be a good way to clarify your thinking and future direction.&lt;/p&gt;

&lt;h2 id=&quot;get-better-by-creating-more&quot;&gt;Get better by creating more&lt;/h2&gt;

&lt;p&gt;Produce lots of stuff and share it.&lt;/p&gt;

&lt;p&gt;Being prolific doesn’t mean that everything you produce has to be absolute gold. But the process of producing large quantities of work ultimately leads to a higher quality of work.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=24866706&quot; target=&quot;_blank&quot;&gt;Discussion on Hacker News&lt;/a&gt;.&lt;/p&gt;

&lt;!--

[Portuguese translation](https://eduardoorige.com.br/posts/seja-prolifico/index.html){:target=&quot;_blank&quot;}

[Arabic translation](https://farzat.online/2020/10/28/be-prolific/){:target=&quot;_blank&quot;}

--&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="creativity" />
    
    <category term="life" />
    
    <summary type="html">Produce lots of stuff and share it.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com" />
    <media:content medium="image" url="https://www.chrismytton.com"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Hiring an electric scooter</title>
    <link href="https://www.chrismytton.com/around-town-on-an-e-scooter/" rel="alternate" type="text/html" title="Hiring an electric scooter" />
    <published>2020-10-17T07:06:00+00:00</published>
    <updated>2020-10-17T07:06:00+00:00</updated>
    <id>https://www.chrismytton.com/around-town-on-an-e-scooter/</id>
    <content type="html" xml:base="https://www.chrismytton.com/around-town-on-an-e-scooter/">
      
&lt;p&gt;A couple of weeks ago e-scooters started appearing around town. After a bit of research I discovered the local council is running a 12 month e-scooter trial, which they’ve partnered with Zwings for.&lt;/p&gt;

&lt;p&gt;So yesterday lunchtime I decided it was time to take one for a spin.&lt;/p&gt;

&lt;p&gt;They’re limited to 12mph (20kph), not terribly fast, but still a super fun way to get around.&lt;/p&gt;

&lt;div class=&quot;youtube-embed&quot;&gt;
  &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/S-Q7-BUBw-Q&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="video" />
    
    <summary type="html">Testing out the new e-scooters that have appeared around town.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com/assets/images/e-scooter.jpg" />
    <media:content medium="image" url="https://www.chrismytton.com/assets/images/e-scooter.jpg"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Playing tennis after a 4 year hiatus</title>
    <link href="https://www.chrismytton.com/playing-tennis/" rel="alternate" type="text/html" title="Playing tennis after a 4 year hiatus" />
    <published>2020-10-15T22:04:00+00:00</published>
    <updated>2020-10-15T22:04:00+00:00</updated>
    <id>https://www.chrismytton.com/playing-tennis/</id>
    <content type="html" xml:base="https://www.chrismytton.com/playing-tennis/">
      
&lt;p&gt;We decided to try out the local tennis courts after not playing since 2016-ish.&lt;/p&gt;

&lt;p&gt;Have completely forgotten how to play, but was really good fun. Forgot what an intense workout tennis can be!&lt;/p&gt;

&lt;div class=&quot;youtube-embed&quot;&gt;
  &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/Il6SLWAPNKw&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="video" />
    
    <category term="sports" />
    
    <summary type="html">Have completely forgotten how to play, but was really good fun. Forgot what an intense workout tennis can be!</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com/assets/images/playing-tennis.jpg" />
    <media:content medium="image" url="https://www.chrismytton.com/assets/images/playing-tennis.jpg"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Ruby: The not so good parts</title>
    <link href="https://www.chrismytton.com/ruby-the-not-so-good-parts/" rel="alternate" type="text/html" title="Ruby: The not so good parts" />
    <published>2020-10-11T09:28:00+00:00</published>
    <updated>2020-10-11T09:28:00+00:00</updated>
    <id>https://www.chrismytton.com/ruby-the-not-so-good-parts/</id>
    <content type="html" xml:base="https://www.chrismytton.com/ruby-the-not-so-good-parts/">
      
&lt;!-- Twitter embed JavaScript --&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;The other day Nate Berkopec asked this question on Twitter:&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;What is your least favorite part about Ruby?&lt;/p&gt;&amp;mdash; Nate Berkopec (@nateberkopec) &lt;a href=&quot;https://twitter.com/nateberkopec/status/1314235606705340418?ref_src=twsrc%5Etfw&quot;&gt;October 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;The thread had some thought provoking responses. I wanted to gather up some of the highlights for posterity and add my own commentary.&lt;/p&gt;

&lt;p&gt;In summary:&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#class-variables-are-confusing&quot; id=&quot;markdown-toc-class-variables-are-confusing&quot;&gt;Class variables are confusing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#standard-library-is-too-low-level&quot; id=&quot;markdown-toc-standard-library-is-too-low-level&quot;&gt;Standard library is too low-level&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#meta-programming-complexity&quot; id=&quot;markdown-toc-meta-programming-complexity&quot;&gt;Meta-programming complexity&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#block-vs-proc-vs-lambda&quot; id=&quot;markdown-toc-block-vs-proc-vs-lambda&quot;&gt;Block vs proc vs lambda&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;class-variables-are-confusing&quot;&gt;Class variables are confusing&lt;/h2&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;class variables! I can never figure out how they work&lt;/p&gt;&amp;mdash; Aaron Patterson (@tenderlove) &lt;a href=&quot;https://twitter.com/tenderlove/status/1314237029878652928?ref_src=twsrc%5Etfw&quot;&gt;October 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Class variables in Ruby look a bit like instance variables, but they begin with &lt;code&gt;@@&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To confuse matters further Ruby also has class instance variables, which makes searching for documentation confusing if you don’t know what you’re looking for.&lt;/p&gt;

&lt;p&gt;This is one of those Ruby features that’s best left alone unless you have a &lt;em&gt;very&lt;/em&gt; convincing use case that you can’t &lt;em&gt;possibly&lt;/em&gt; solve using anything else.&lt;/p&gt;

&lt;h2 id=&quot;standard-library-is-too-low-level&quot;&gt;Standard library is too low-level&lt;/h2&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Much of the standard library is too low-level, like Net::HTTP, which leads to every Rails app bundling five different third-party HTTP clients.&lt;/p&gt;&amp;mdash; George Claghorn (@georgeclaghorn) &lt;a href=&quot;https://twitter.com/georgeclaghorn/status/1314237870782251008?ref_src=twsrc%5Etfw&quot;&gt;October 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Ruby is definitely showing its age a bit with the standard library. With Ruby 3.0 the standard library is going to become default gems. That might encourage some modernization in the interfaces provided so that more apps can rely on an out-of-the-box solution, rather than bundling their own.&lt;/p&gt;

&lt;p&gt;Choice is a good thing. The fact that there are many alternatives to most parts of the standard library is a sign of a healthy ecosystem. But at the same time it would be nice if the libraries Ruby shipped with were good enough for simple scripts without having to pull in external libraries.&lt;/p&gt;

&lt;p&gt;For simple HTTP requests when you don’t care about anything other than the body you can always use &lt;code&gt;open-uri&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;open-uri&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;URI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;read&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For anything more complex, you’ll want to turn to a third-party library.&lt;/p&gt;

&lt;h2 id=&quot;meta-programming-complexity&quot;&gt;Meta-programming complexity&lt;/h2&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Meta-programming magic.&lt;br /&gt;&lt;br /&gt;Makes it awkward to discover where a called method is actually defined. Particularly frustrating for people just learning Ruby.&lt;br /&gt;&lt;br /&gt;Hopefully tools like sorbet and rbs will help solve the discovery problem to some extent.&lt;/p&gt;&amp;mdash; Chris Mytton (@chrismytton) &lt;a href=&quot;https://twitter.com/chrismytton/status/1314236518790311936?ref_src=twsrc%5Etfw&quot;&gt;October 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;My own contribution to the thread.&lt;/p&gt;

&lt;p&gt;Ruby has some incredibly powerful and ergonomic metaprogramming features for creating DSLs. Yet this power and ease-of-use leads people to overuse and abuse metaprogramming, leading to hard-to-follow and hard-to-debug programs.&lt;/p&gt;

&lt;p&gt;It seems enticing writing a DSL that captures the essence of the problem you’re solving. In reality code that isn’t written in a standard way (i.e. with classes and methods) is harder to understand because you have to understand the DSL before you can understand what the code in the DSL is doing.&lt;/p&gt;

&lt;h2 id=&quot;block-vs-proc-vs-lambda&quot;&gt;Block vs proc vs lambda&lt;/h2&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Block vs proc vs lambda is one of the least elegant bits with the most complexity compared to expressiveness.&lt;/p&gt;&amp;mdash; Noah Gibbs (@codefolio) &lt;a href=&quot;https://twitter.com/codefolio/status/1314237138393858050?ref_src=twsrc%5Etfw&quot;&gt;October 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Ruby has too many ways of creating and calling code closures. There are some subtle differences between the various forms. When faced with a situation where I want to use them I can never remember what the trade-offs between them are.&lt;/p&gt;

&lt;p&gt;This isn’t an easy problem to solve, since there’s code out there using all the different forms. It’s one of those things that you get used to, but is a definite sharp edge for people that are new to the language.&lt;/p&gt;

&lt;h2 class=&quot;no_toc&quot; id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Ruby fared pretty well in this thread, considering it’s a 25 year old language. There are definitely some rough edges, but I still find it to be one of the quickest and most fun ways to go from idea to working code.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 class=&quot;no_toc&quot; id=&quot;im-starting-a-newsletter&quot;&gt;I’m starting a newsletter!&lt;/h2&gt;

&lt;p&gt;If you’ve enjoyed reading this post then you might also enjoy &lt;a href=&quot;/newsletter/&quot;&gt;my newsletter&lt;/a&gt;, where I’ll be writing about Ruby, software, tech and life.&lt;/p&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <summary type="html">Shining a light on the dark corners of Ruby.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com" />
    <media:content medium="image" url="https://www.chrismytton.com"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Why I'm starting a newsletter</title>
    <link href="https://www.chrismytton.com/starting-a-newsletter/" rel="alternate" type="text/html" title="Why I'm starting a newsletter" />
    <published>2020-10-10T20:43:00+00:00</published>
    <updated>2020-10-10T20:43:00+00:00</updated>
    <id>https://www.chrismytton.com/starting-a-newsletter/</id>
    <content type="html" xml:base="https://www.chrismytton.com/starting-a-newsletter/">
      
&lt;p&gt;I enjoy writing on my website but too often months go by when I don’t publish anything. I’ve decided to start &lt;a href=&quot;/newsletter/&quot;&gt;writing a newsletter&lt;/a&gt; to encourage me to publish on a more regular basis.&lt;/p&gt;

&lt;h2 id=&quot;working-in-public&quot;&gt;Working in public&lt;/h2&gt;

&lt;p&gt;A lot of my writing currently happens in my private notes, but not much of it makes it onto my website. Like many people I worry about whether my writing is “Good Enough” to publish, and that often prevents me from publishing.&lt;/p&gt;

&lt;p&gt;Of course imposter syndrome is nothing new or surprising when it comes to publishing your writing. I’m increasingly realising that the fastest (only?) way to supress that feeling, to some extent at least, is to publish more frequently.&lt;/p&gt;

&lt;p&gt;Why do I think a newsletter will help with this? There’s an expectation, even if it’s only in my head, that a newsletter should be sent on a semi-regular basis. It will encourage me to write something publicly at least once a month. That’s the plan anyway.&lt;/p&gt;

&lt;h2 id=&quot;content-curation&quot;&gt;Content curation&lt;/h2&gt;

&lt;p&gt;I published a couple of articles last year that had a bit of a newsletter vibe, &lt;a href=&quot;https://www.chrismytton.com/2019/08/29/august-musings/&quot;&gt;August musings&lt;/a&gt; and &lt;a href=&quot;https://www.chrismytton.com/2019/09/29/septembers-books-and-links/&quot;&gt;September’s books and links&lt;/a&gt;. Those articles were both fun to write because I was sharing what I was reading and thinking at the time. They’re also fun to look back on as they serve as a public diary.&lt;/p&gt;

&lt;p&gt;As a starting point I’m going to follow a similar template to those articles. Curating other people’s content and adding my own commentary and context to it.&lt;/p&gt;

&lt;p&gt;I’m sure the format will evolve over time as I find out what I enjoy and what I don’t. I think enjoyment is key. I want to do this because I come across plenty of interesting ideas as I trawl the internet, but I don’t often do much with them.&lt;/p&gt;

&lt;h2 id=&quot;good-things-come-from-sharing&quot;&gt;Good things come from sharing&lt;/h2&gt;

&lt;p&gt;If nothing else this newsletter will at least be useful for me to look back on the links I’ve been saving and figure out why I thought it was an interesting link.&lt;/p&gt;

&lt;p&gt;Hopefully sharing my ideas and links publicly will benefit others as well.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ideas rot if you don’t do something with them. I used to try to hoard them, but they rotted. Now I just blog them or tell people about them. Sometimes they still rot, but sometimes someone finds them useful in one way or another.&lt;/p&gt;

  &lt;p&gt;—Edd Dumbill&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I’m going to stop hoarding my ideas. &lt;a href=&quot;/newsletter/&quot;&gt;Join my newsletter&lt;/a&gt; so I can share them with you!&lt;/p&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="writing" />
    
    <summary type="html">Working in public is good and content curation is fun!</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com" />
    <media:content medium="image" url="https://www.chrismytton.com"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Consume less, produce more</title>
    <link href="https://www.chrismytton.com/2020/09/24/consume-less-produce-more/" rel="alternate" type="text/html" title="Consume less, produce more" />
    <published>2020-09-24T06:50:00+00:00</published>
    <updated>2020-09-24T06:50:00+00:00</updated>
    <id>https://www.chrismytton.com/2020/09/24/consume-less-produce-more/</id>
    <content type="html" xml:base="https://www.chrismytton.com/2020/09/24/consume-less-produce-more/">
      
&lt;p&gt;If you have too many inputs then your brain gets overwhelmed. Every piece of information you consume takes up some brain cycles.&lt;/p&gt;

&lt;p&gt;If you’re not producing enough output to match your inputs then it can get clogged up in your brain. You end up with too many strands of thought. Too many lines of enquiry.&lt;/p&gt;

&lt;h2 id=&quot;excess-consumption-causes-anxiety&quot;&gt;Excess consumption causes anxiety&lt;/h2&gt;

&lt;p&gt;This can often be a cause of anxiety, stress and depression. Just increasing the amount you produce allows your brain to work through your anxieties.&lt;/p&gt;

&lt;p&gt;Perhaps this is why mental health issues are on the rise. There are just so many inputs for our brain in the modern world that we don’t have time to process them all into coherent outputs, so that we can understand the information we’re being presented with.&lt;/p&gt;

&lt;h2 id=&quot;reduce-consumption&quot;&gt;Reduce consumption&lt;/h2&gt;

&lt;p&gt;Reduce the number of inputs in your daily life.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Stop reading the news&lt;/li&gt;
  &lt;li&gt;Spend less time on social media&lt;/li&gt;
  &lt;li&gt;Reduce the number of websites you visit daily&lt;/li&gt;
  &lt;li&gt;Delete unused apps from your phone&lt;/li&gt;
  &lt;li&gt;Eliminate unnecessary calendar appointments&lt;/li&gt;
  &lt;li&gt;Spend less time watching TV series&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Generally stimulate your brain less.&lt;/p&gt;

&lt;h2 id=&quot;increase-production&quot;&gt;Increase production&lt;/h2&gt;

&lt;p&gt;Increase the number of productive outputs in your life.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Create something with your hands&lt;/li&gt;
  &lt;li&gt;Draw or paint pictures (doesn’t matter if you’re good or not)&lt;/li&gt;
  &lt;li&gt;Write more, keep a journal or a blog&lt;/li&gt;
  &lt;li&gt;Increase your daily step count&lt;/li&gt;
  &lt;li&gt;Explore new places&lt;/li&gt;
  &lt;li&gt;Exercise regularly&lt;/li&gt;
  &lt;li&gt;Cook for yourself, rather than eating out&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These are things that allow you to express yourself. Express the ideas in your brain. Work through the inputs in your life.&lt;/p&gt;

&lt;p&gt;Not everything has to have a point, sometimes you just need to &lt;a href=&quot;/2019/09/24/do-things-for-fun/&quot;&gt;do things for fun&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/chelt-paint-fest-2020.jpg&quot; alt=&quot;Cheltenham Paint Festival 2020 at Cheltenham Spa station&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;express-yourself&quot;&gt;Express yourself&lt;/h2&gt;

&lt;p&gt;It’s by expressing the ideas in your brain that you can actually think clearly. Because the more you express them the more you can see them. Then you can visualise the ideas. Then you can better structure and organise them and compartmentalize them.&lt;/p&gt;

&lt;p&gt;Now stop consuming these words and go and produce something. Express yourself.&lt;/p&gt;

    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="life" />
    
    <category term="creativity" />
    
    <summary type="html">Expressing yourself through creative outputs helps balance out the anxiety caused by the modern information economy.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com/assets/images/chelt-paint-fest-2020.jpg" />
    <media:content medium="image" url="https://www.chrismytton.com/assets/images/chelt-paint-fest-2020.jpg"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
  <entry>
    <title type="html">Canvas art in TypeScript</title>
    <link href="https://www.chrismytton.com/2020/06/06/canvas-art-in-typescript/" rel="alternate" type="text/html" title="Canvas art in TypeScript" />
    <published>2020-06-06T15:30:00+00:00</published>
    <updated>2020-06-06T15:30:00+00:00</updated>
    <id>https://www.chrismytton.com/2020/06/06/canvas-art-in-typescript/</id>
    <content type="html" xml:base="https://www.chrismytton.com/2020/06/06/canvas-art-in-typescript/">
      
&lt;p&gt;I ported a JavaScript “random art generator” I created a few years ago over to TypeScript. This post contains some notes from the process.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;See the project: &lt;a href=&quot;https://www.chrismytton.com/art/&quot;&gt;www.chrismytton.com/art&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Check out the code: &lt;a href=&quot;https://github.com/chrismytton/art/blob/1f34e99d121f2c7dd698eb8c9d45da1e9b7f450c/src/random.ts&quot;&gt;chrismytton/art on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;I’ve been learning TypeScript recently. As part of that I wanted to dig out some of my old JavaScript projects and port them to TypeScript. I find porting code to a new language is a good way to learn.&lt;/p&gt;

&lt;p&gt;I found an old project that I created in 2014 which uses JavaScript and the Canvas API to create random pieces of art which change on every page load. The code itself is fairly straightforward, so it seemed like a good candidate for porting to TypeScript.&lt;/p&gt;

&lt;h2 id=&quot;classes-in-typescript&quot;&gt;Classes in TypeScript&lt;/h2&gt;

&lt;p&gt;TypeScript classes build on &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes&quot;&gt;ES6 classes&lt;/a&gt;. The major difference is that in TypeScript you need to explicitly declare the types of properties you’re expecting on the class.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CanvasPainting&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLCanvasElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CanvasRenderingContext2D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you try to use &lt;code&gt;this.viewport&lt;/code&gt; without declaring the property TypeScript will tell you:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Property ‘viewport’ does not exist on type ‘CanvasPainting’.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I find having these properties explicitly defined actually makes it easier to figure out what the class might be doing internally. They provide useful documentation about what kind of data you can expect to find in each property.&lt;/p&gt;

&lt;h2 id=&quot;index-signatures&quot;&gt;Index signatures&lt;/h2&gt;

&lt;p&gt;This is something I struggled with for a while. I was trying to dynamically call methods on my &lt;code&gt;Shapes&lt;/code&gt; class using &lt;code&gt;this[shape]&lt;/code&gt;, but TypeScript was giving this warning:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Element implicitly has an ‘any’ type because expression of type ‘string’ can’t be used to index type ‘Shapes’.&lt;/p&gt;

  &lt;p&gt;No index signature with a parameter of type ‘string’ was found on type ‘Shapes’.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;After reading various bits of the TypeScript documentation and some Stack Overflow answers I eventually figured out that I needed to define an index signature on my shapes class. This tells TypeScript what can be used to index this class, and what the indexing might return.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Shapes&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CanvasPainting&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This tells TypeScript that you can index this class with a string, and it will return &lt;em&gt;something&lt;/em&gt;. There might be a way to avoid using &lt;code&gt;any&lt;/code&gt; here, but I haven’t figured that out yet.&lt;/p&gt;

&lt;h2 id=&quot;dealing-with-null-values&quot;&gt;Dealing with null values&lt;/h2&gt;

&lt;p&gt;TypeScript knows which methods can return &lt;code&gt;null&lt;/code&gt; and will make you deal with those cases. If you try to call a method on a value that might be null then TypeScript will give you a warning.&lt;/p&gt;

&lt;p&gt;You can avoid this warning by explicitly checking for &lt;code&gt;null&lt;/code&gt; before using the value.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CanvasPainting&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLCanvasElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CanvasRenderingContext2D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HTMLCanvasElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;viewport&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;2d&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// getContext can return null, so check for that case.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;getContext(&#39;2d&#39;) failed&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without this check for &lt;code&gt;null&lt;/code&gt; TypeScript warns you that &lt;code&gt;Type &#39;null&#39; is not assignable to type &#39;CanvasRenderingContext2D&#39;.&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It’s easy to forget to check for &lt;code&gt;null&lt;/code&gt; when writing JavaScript. TypeScript protects you from this class of error at the compile stage.&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;I really like what I’ve seen so far with TypeScript. Working on little projects like this is a great way to get some experience with new tools.&lt;/p&gt;

&lt;p&gt;I’d forgotten all about this fun little art project. It’s nice to have given it a bit of polish and released it into the world, rather than it gathering dust on my hard drive.&lt;/p&gt;

&lt;p&gt;See the project: &lt;a href=&quot;https://www.chrismytton.com/art/&quot;&gt;www.chrismytton.com/art&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Check out the code: &lt;a href=&quot;https://github.com/chrismytton/art/blob/1f34e99d121f2c7dd698eb8c9d45da1e9b7f450c/src/random.ts&quot;&gt;chrismytton/art on GitHub&lt;/a&gt;.&lt;/p&gt;


    </content>
    <author>
      <name>Chris Mytton</name>
    </author>
    
    <category term="programming" />
    
    <summary type="html">📝 Notes from porting a JavaScript random art generator to TypeScript.</summary>
    <media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.chrismytton.com/assets/images/random-art.png" />
    <media:content medium="image" url="https://www.chrismytton.com/assets/images/random-art.png"
      xmlns:media="http://search.yahoo.com/mrss/" />
  </entry>
  
</feed>
